🚀 카페24 Node.js 배포 프로세스 요약
1단계: 로컬 프로젝트 환경 설정 (내 컴퓨터)
배포 전, 소스 코드가 카페24 환경에 맞는지 확인합니다.

파일명 변경: 메인 실행 파일을 web.js로 변경합니다.

포트 수정: web.js 내 포트 설정을 process.env.PORT || 8001로 수정합니다.

.gitignore 생성: 루트 폴더에 파일을 만들고 아래 내용을 넣습니다.

Plaintext

node_modules/
.env
.DS_Store
2단계: 카페24 관리자 페이지 설정
앱 생성: [나의 서비스 관리] > [앱 생성/관리]에서 Node.js 앱을 생성합니다.

공개키 등록: 터미널에서 생성한 id_rsa.pub 내용을 [Public Key 관리]에 등록합니다.

Key 할당: 생성된 앱 관리 화면에서 등록한 키를 [할당] 버튼을 눌러 연결합니다. (중요!)

저장소 주소 복사: 아이디@도메인:앱이름 형태의 주소를 복사해 둡니다.

3단계: Git 원격 저장소 연결 및 최초 배포
내 프로젝트 폴더(터미널)에서 아래 명령어를 차례대로 입력합니다.

Bash

# 1. Git 초기화 및 커밋
git init
git add .
git commit -m "First Deploy"

# 2. 카페24 서버 연결 (복사한 주소 붙여넣기)
git remote add cafe24 [카페24_저장소_주소]

# 3. 서버로 코드 전송
git push cafe24 master
4단계: WinSCP를 이용한 환경 변수(.env) 설정
Git에 포함되지 않은 민감한 정보는 수동으로 한 번 올려줘야 합니다.

WinSCP 접속: SFTP 프로토콜, 22번 포트로 접속합니다.

파일 업로드: 내 컴퓨터의 .env 파일을 서버의 앱 루트 폴더로 드래그하여 업로드합니다.

.env 내용 예시: PORT=8001, DB_HOST=... 등

5단계: 앱 최종 실행 및 업데이트
앱 시작: 카페24 관리자 페이지에서 [실행] 버튼을 클릭합니다.

수정 시: 이후 코드를 수정하면 git push cafe24 master를 한 뒤, 관리자 페이지에서 **[중지] -> [실행]**을 눌러 재시작합니다.

💡 문제 발생 시 해결법 (Troubleshooting)
Permission Denied: 카페24 관리자 페이지에서 SSH Key를 **[할당]**했는지 다시 확인하세요.

403/502 에러: 메인 파일명이 web.js가 맞는지, 포트가 8001인지 확인하세요.

로그 확인: SSH로 접속하여 tail -f logs/web.log 명령어를 치면 실시간 에러를 볼 수 있습니다.


+ 그 메시지를 보고 당황하셨을 텐데, 결론부터 말씀드리면 정상적인 상황입니다.

  카페24 Node.js 호스팅은 일반 가상 서버(VPS)와 달리, 접속하자마자 기본 경로에서 node 명령어를 바로 쓸 수 있는 환경이 아닙니다. 앱마다 독립된 Node.js 환경이 구성되기 때문입니다.

  해결 방법과 확인해야 할 포인트 3가지를 정리해 드립니다.

  1. 왜 command not found가 뜨나요?
  카페24 서버에 SSH로 접속하면 처음 도착하는 곳은 '사용자 루트'입니다. 하지만 실제 Node.js 실행 환경은 카페24가 관리하는 별도의 경로에 설치되어 있으며, 사용자가 직접 node 명령어를 실행하는 것을 기본적으로 막아두거나 경로(PATH) 설정을 하지 않은 경우가 많습니다.

  2. Node.js 설치 여부를 확인하는 법
  내가 직접 node -v를 쳐서 확인하기보다는, 카페24가 제공하는 [앱 관리] 시스템을 믿으셔야 합니다.

  배포 테스트: git push cafe24 master를 했을 때 터미널에 Remote: npm install... 같은 메시지가 나오면 Node.js는 아주 잘 설치되어 있는 것입니다.

  버전 확인: 신청하신 '자이언트 호스팅' 상품 페이지나 관리자 페이지 설정에서 선택한 Node.js 버전(예: 18.x, 20.x 등)이 이미 서버 인스턴스에 할당되어 있습니다.

  3. 그래도 터미널에서 node를 쓰고 싶다면?
  서버에 접속해서 꼭 Node 명령어를 써야 한다면, 카페24 내부에서 제공하는 **full path(전체 경로)**를 입력해야 합니다. (단, 이는 상품마다 경로가 다를 수 있습니다.)

  보통은 직접 명령어를 치기보다 아래 방식을 권장합니다.

  실행 확인: 카페24 관리자 페이지의 [앱 생성/관리] 메뉴에서 '상태'가 **실행 중(Running)**인지 확인.

  로그 확인: SSH 접속 후 tail -f logs/web.log (이 명령어를 쳤을 때 로그가 찍히면 Node.js가 내부적으로 돌고 있는 것입니다.)

  💡 지금 바로 확인해볼 것
  지금 SSH 터미널에 접속해 계신다면, 아래 명령어를 입력해 보세요. 소스가 잘 올라갔는지 확인하는 가장 빠른 방법입니다.

  Bash

  ls -al
  만약 본인이 작업한 프로젝트 파일들이 보인다면, 이제 관리자 페이지에서 [실행] 버튼만 누르면 됩니다.